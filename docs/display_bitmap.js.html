<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: display/bitmap.js</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true},"applicationName":"RGUI","footer":"Made with ♥ by Goodboy Digital (goodboydigital.com)","copyright":"RGUI Copyright © 2013-2016 Mat Groves.","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""},"linenums":true};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">RGUI</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="RGUI">
            <span class="title">
                <a href="RGUI.html">RGUI</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Controls"><a href="RGUI.html#.Controls">Controls</a></li>
            
                <li data-name="RGUI.defaultLang"><a href="RGUI.html#.defaultLang">defaultLang</a></li>
            
                <li data-name="RGUI.dirname"><a href="RGUI.html#.dirname">dirname</a></li>
            
                <li data-name="RGUI.eventManager"><a href="RGUI.html#.eventManager">eventManager</a></li>
            
                <li data-name="RGUI.KEYBOARD"><a href="RGUI.html#.KEYBOARD">KEYBOARD</a></li>
            
                <li data-name="RGUI.lang"><a href="RGUI.html#.lang">lang</a></li>
            
                <li data-name="RGUI.lang"><a href="RGUI.html#.lang">lang</a></li>
            
                <li data-name="RGUI.MOUSE"><a href="RGUI.html#.MOUSE">MOUSE</a></li>
            
                <li data-name="RGUI.VERSION"><a href="RGUI.html#.VERSION">VERSION</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.boundary"><a href="RGUI.html#.boundary">boundary</a></li>
            
                <li data-name="RGUI.getID"><a href="RGUI.html#.getID">getID</a></li>
            
                <li data-name="RGUI.init"><a href="RGUI.html#.init">init</a></li>
            
                <li data-name="RGUI.seyHello"><a href="RGUI.html#.seyHello">seyHello</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Box">
            <span class="title">
                <a href="RGUI.Box.html">RGUI.Box</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Display">
            <span class="title">
                <a href="RGUI.Display.html">RGUI.Display</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Input">
            <span class="title">
                <a href="RGUI.Input.html">RGUI.Input</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Input.mouseScroll"><a href="RGUI.Input.html#.mouseScroll">mouseScroll</a></li>
            
                <li data-name="RGUI.Input.x"><a href="RGUI.Input.html#.x">x</a></li>
            
                <li data-name="RGUI.Input.y"><a href="RGUI.Input.html#.y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Input.clear"><a href="RGUI.Input.html#.clear">clear</a></li>
            
                <li data-name="RGUI.Input.init"><a href="RGUI.Input.html#.init">init</a></li>
            
                <li data-name="RGUI.Input.keyDown"><a href="RGUI.Input.html#.keyDown">keyDown</a></li>
            
                <li data-name="RGUI.Input.keyPress"><a href="RGUI.Input.html#.keyPress">keyPress</a></li>
            
                <li data-name="RGUI.Input.keyUp"><a href="RGUI.Input.html#.keyUp">keyUp</a></li>
            
                <li data-name="RGUI.Input.mousePos"><a href="RGUI.Input.html#.mousePos">mousePos</a></li>
            
                <li data-name="RGUI.Input.update"><a href="RGUI.Input.html#.update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Base">
            <span class="title">
                <a href="RGUI.Base.html">RGUI.Base</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Base.eventManager"><a href="RGUI.Base.html#.eventManager">eventManager</a></li>
            
                <li data-name="RGUI.Base.uID"><a href="RGUI.Base.html#.uID">uID</a></li>
            
                <li data-name="RGUI.Base#box"><a href="RGUI.Base.html#box">box</a></li>
            
                <li data-name="RGUI.Base#focus"><a href="RGUI.Base.html#focus">focus</a></li>
            
                <li data-name="RGUI.Base#height"><a href="RGUI.Base.html#height">height</a></li>
            
                <li data-name="RGUI.Base#opacity"><a href="RGUI.Base.html#opacity">opacity</a></li>
            
                <li data-name="RGUI.Base#penetration"><a href="RGUI.Base.html#penetration">penetration</a></li>
            
                <li data-name="RGUI.Base#status"><a href="RGUI.Base.html#status">status</a></li>
            
                <li data-name="RGUI.Base#visible"><a href="RGUI.Base.html#visible">visible</a></li>
            
                <li data-name="RGUI.Base#width"><a href="RGUI.Base.html#width">width</a></li>
            
                <li data-name="RGUI.Base#x"><a href="RGUI.Base.html#x">x</a></li>
            
                <li data-name="RGUI.Base#y"><a href="RGUI.Base.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Base#changeSize"><a href="RGUI.Base.html#changeSize">changeSize</a></li>
            
                <li data-name="RGUI.Base#close"><a href="RGUI.Base.html#close">close</a></li>
            
                <li data-name="RGUI.Base#create"><a href="RGUI.Base.html#create">create</a></li>
            
                <li data-name="RGUI.Base#disable"><a href="RGUI.Base.html#disable">disable</a></li>
            
                <li data-name="RGUI.Base#enable"><a href="RGUI.Base.html#enable">enable</a></li>
            
                <li data-name="RGUI.Base#getFocus"><a href="RGUI.Base.html#getFocus">getFocus</a></li>
            
                <li data-name="RGUI.Base#hide"><a href="RGUI.Base.html#hide">hide</a></li>
            
                <li data-name="RGUI.Base#lostFocus"><a href="RGUI.Base.html#lostFocus">lostFocus</a></li>
            
                <li data-name="RGUI.Base#move"><a href="RGUI.Base.html#move">move</a></li>
            
                <li data-name="RGUI.Base#moveTo"><a href="RGUI.Base.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.Base#show"><a href="RGUI.Base.html#show">show</a></li>
            
                <li data-name="RGUI.Base#update"><a href="RGUI.Base.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Box.Rect">
            <span class="title">
                <a href="RGUI.Box.Rect.html">RGUI.Box.Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Box.Rect#hit"><a href="RGUI.Box.Rect.html#hit">hit</a></li>
            
                <li data-name="RGUI.Box.Rect#move"><a href="RGUI.Box.Rect.html#move">move</a></li>
            
                <li data-name="RGUI.Box.Rect#moveTo"><a href="RGUI.Box.Rect.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.Box.Rect#setSize"><a href="RGUI.Box.Rect.html#setSize">setSize</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Box.Round">
            <span class="title">
                <a href="RGUI.Box.Round.html">RGUI.Box.Round</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Box.Round#hit"><a href="RGUI.Box.Round.html#hit">hit</a></li>
            
                <li data-name="RGUI.Box.Round#move"><a href="RGUI.Box.Round.html#move">move</a></li>
            
                <li data-name="RGUI.Box.Round#moveTo"><a href="RGUI.Box.Round.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.Box.Round#setSize"><a href="RGUI.Box.Round.html#setSize">setSize</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Button">
            <span class="title">
                <a href="RGUI.Button.html">RGUI.Button</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Button#box"><a href="RGUI.Button.html#box">box</a></li>
            
                <li data-name="RGUI.Button#focus"><a href="RGUI.Button.html#focus">focus</a></li>
            
                <li data-name="RGUI.Button#height"><a href="RGUI.Button.html#height">height</a></li>
            
                <li data-name="RGUI.Button#opacity"><a href="RGUI.Button.html#opacity">opacity</a></li>
            
                <li data-name="RGUI.Button#penetration"><a href="RGUI.Button.html#penetration">penetration</a></li>
            
                <li data-name="RGUI.Button#status"><a href="RGUI.Button.html#status">status</a></li>
            
                <li data-name="RGUI.Button#visible"><a href="RGUI.Button.html#visible">visible</a></li>
            
                <li data-name="RGUI.Button#width"><a href="RGUI.Button.html#width">width</a></li>
            
                <li data-name="RGUI.Button#x"><a href="RGUI.Button.html#x">x</a></li>
            
                <li data-name="RGUI.Button#y"><a href="RGUI.Button.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Button#changeSize"><a href="RGUI.Button.html#changeSize">changeSize</a></li>
            
                <li data-name="RGUI.Button#close"><a href="RGUI.Button.html#close">close</a></li>
            
                <li data-name="RGUI.Button#create"><a href="RGUI.Button.html#create">create</a></li>
            
                <li data-name="RGUI.Button#disable"><a href="RGUI.Button.html#disable">disable</a></li>
            
                <li data-name="RGUI.Button#enable"><a href="RGUI.Button.html#enable">enable</a></li>
            
                <li data-name="RGUI.Button#getFocus"><a href="RGUI.Button.html#getFocus">getFocus</a></li>
            
                <li data-name="RGUI.Button#hide"><a href="RGUI.Button.html#hide">hide</a></li>
            
                <li data-name="RGUI.Button#lostFocus"><a href="RGUI.Button.html#lostFocus">lostFocus</a></li>
            
                <li data-name="RGUI.Button#move"><a href="RGUI.Button.html#move">move</a></li>
            
                <li data-name="RGUI.Button#moveTo"><a href="RGUI.Button.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.Button#show"><a href="RGUI.Button.html#show">show</a></li>
            
                <li data-name="RGUI.Button#update"><a href="RGUI.Button.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Container">
            <span class="title">
                <a href="RGUI.Container.html">RGUI.Container</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Container#box"><a href="RGUI.Container.html#box">box</a></li>
            
                <li data-name="RGUI.Container#focus"><a href="RGUI.Container.html#focus">focus</a></li>
            
                <li data-name="RGUI.Container#height"><a href="RGUI.Container.html#height">height</a></li>
            
                <li data-name="RGUI.Container#opacity"><a href="RGUI.Container.html#opacity">opacity</a></li>
            
                <li data-name="RGUI.Container#penetration"><a href="RGUI.Container.html#penetration">penetration</a></li>
            
                <li data-name="RGUI.Container#status"><a href="RGUI.Container.html#status">status</a></li>
            
                <li data-name="RGUI.Container#visible"><a href="RGUI.Container.html#visible">visible</a></li>
            
                <li data-name="RGUI.Container#width"><a href="RGUI.Container.html#width">width</a></li>
            
                <li data-name="RGUI.Container#x"><a href="RGUI.Container.html#x">x</a></li>
            
                <li data-name="RGUI.Container#y"><a href="RGUI.Container.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Container#changeSize"><a href="RGUI.Container.html#changeSize">changeSize</a></li>
            
                <li data-name="RGUI.Container#clear"><a href="RGUI.Container.html#clear">clear</a></li>
            
                <li data-name="RGUI.Container#close"><a href="RGUI.Container.html#close">close</a></li>
            
                <li data-name="RGUI.Container#create"><a href="RGUI.Container.html#create">create</a></li>
            
                <li data-name="RGUI.Container#disable"><a href="RGUI.Container.html#disable">disable</a></li>
            
                <li data-name="RGUI.Container#enable"><a href="RGUI.Container.html#enable">enable</a></li>
            
                <li data-name="RGUI.Container#getFocus"><a href="RGUI.Container.html#getFocus">getFocus</a></li>
            
                <li data-name="RGUI.Container#hide"><a href="RGUI.Container.html#hide">hide</a></li>
            
                <li data-name="RGUI.Container#lostFocus"><a href="RGUI.Container.html#lostFocus">lostFocus</a></li>
            
                <li data-name="RGUI.Container#move"><a href="RGUI.Container.html#move">move</a></li>
            
                <li data-name="RGUI.Container#moveTo"><a href="RGUI.Container.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.Container#push"><a href="RGUI.Container.html#push">push</a></li>
            
                <li data-name="RGUI.Container#remove"><a href="RGUI.Container.html#remove">remove</a></li>
            
                <li data-name="RGUI.Container#show"><a href="RGUI.Container.html#show">show</a></li>
            
                <li data-name="RGUI.Container#update"><a href="RGUI.Container.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Display.Bitmap">
            <span class="title">
                <a href="RGUI.Display.Bitmap.html">RGUI.Display.Bitmap</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Display.Bitmap#canvas"><a href="RGUI.Display.Bitmap.html#canvas">canvas</a></li>
            
                <li data-name="RGUI.Display.Bitmap#ctx"><a href="RGUI.Display.Bitmap.html#ctx">ctx</a></li>
            
                <li data-name="RGUI.Display.Bitmap#height"><a href="RGUI.Display.Bitmap.html#height">height</a></li>
            
                <li data-name="RGUI.Display.Bitmap#image"><a href="RGUI.Display.Bitmap.html#image">image</a></li>
            
                <li data-name="RGUI.Display.Bitmap#url"><a href="RGUI.Display.Bitmap.html#url">url</a></li>
            
                <li data-name="RGUI.Display.Bitmap#width"><a href="RGUI.Display.Bitmap.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Display.Bitmap.cut"><a href="RGUI.Display.Bitmap.html#.cut">cut</a></li>
            
                <li data-name="RGUI.Display.Bitmap.cutConf"><a href="RGUI.Display.Bitmap.html#.cutConf">cutConf</a></li>
            
                <li data-name="RGUI.Display.Bitmap.load"><a href="RGUI.Display.Bitmap.html#.load">load</a></li>
            
                <li data-name="RGUI.Display.Bitmap.snap"><a href="RGUI.Display.Bitmap.html#.snap">snap</a></li>
            
                <li data-name="RGUI.Display.Bitmap#blt"><a href="RGUI.Display.Bitmap.html#blt">blt</a></li>
            
                <li data-name="RGUI.Display.Bitmap#blur"><a href="RGUI.Display.Bitmap.html#blur">blur</a></li>
            
                <li data-name="RGUI.Display.Bitmap#clear"><a href="RGUI.Display.Bitmap.html#clear">clear</a></li>
            
                <li data-name="RGUI.Display.Bitmap#clearRect"><a href="RGUI.Display.Bitmap.html#clearRect">clearRect</a></li>
            
                <li data-name="RGUI.Display.Bitmap#drawCircle"><a href="RGUI.Display.Bitmap.html#drawCircle">drawCircle</a></li>
            
                <li data-name="RGUI.Display.Bitmap#drawText"><a href="RGUI.Display.Bitmap.html#drawText">drawText</a></li>
            
                <li data-name="RGUI.Display.Bitmap#fillAll"><a href="RGUI.Display.Bitmap.html#fillAll">fillAll</a></li>
            
                <li data-name="RGUI.Display.Bitmap#fillRect"><a href="RGUI.Display.Bitmap.html#fillRect">fillRect</a></li>
            
                <li data-name="RGUI.Display.Bitmap#fillRoundedAll"><a href="RGUI.Display.Bitmap.html#fillRoundedAll">fillRoundedAll</a></li>
            
                <li data-name="RGUI.Display.Bitmap#fillRoundedRect"><a href="RGUI.Display.Bitmap.html#fillRoundedRect">fillRoundedRect</a></li>
            
                <li data-name="RGUI.Display.Bitmap#getPixel"><a href="RGUI.Display.Bitmap.html#getPixel">getPixel</a></li>
            
                <li data-name="RGUI.Display.Bitmap#getTextWidth"><a href="RGUI.Display.Bitmap.html#getTextWidth">getTextWidth</a></li>
            
                <li data-name="RGUI.Display.Bitmap#resize"><a href="RGUI.Display.Bitmap.html#resize">resize</a></li>
            
                <li data-name="RGUI.Display.Bitmap#scale9bitmap"><a href="RGUI.Display.Bitmap.html#scale9bitmap">scale9bitmap</a></li>
            
                <li data-name="RGUI.Display.Bitmap#setPixel"><a href="RGUI.Display.Bitmap.html#setPixel">setPixel</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Display.Color">
            <span class="title">
                <a href="RGUI.Display.Color.html">RGUI.Display.Color</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Display.Color.black"><a href="RGUI.Display.Color.html#.black">black</a></li>
            
                <li data-name="RGUI.Display.Color.blue"><a href="RGUI.Display.Color.html#.blue">blue</a></li>
            
                <li data-name="RGUI.Display.Color.ching"><a href="RGUI.Display.Color.html#.ching">ching</a></li>
            
                <li data-name="RGUI.Display.Color.cr1"><a href="RGUI.Display.Color.html#.cr1">cr1</a></li>
            
                <li data-name="RGUI.Display.Color.cr2"><a href="RGUI.Display.Color.html#.cr2">cr2</a></li>
            
                <li data-name="RGUI.Display.Color.cr3"><a href="RGUI.Display.Color.html#.cr3">cr3</a></li>
            
                <li data-name="RGUI.Display.Color.cr4"><a href="RGUI.Display.Color.html#.cr4">cr4</a></li>
            
                <li data-name="RGUI.Display.Color.cr5"><a href="RGUI.Display.Color.html#.cr5">cr5</a></li>
            
                <li data-name="RGUI.Display.Color.cr6"><a href="RGUI.Display.Color.html#.cr6">cr6</a></li>
            
                <li data-name="RGUI.Display.Color.cr7"><a href="RGUI.Display.Color.html#.cr7">cr7</a></li>
            
                <li data-name="RGUI.Display.Color.cr8"><a href="RGUI.Display.Color.html#.cr8">cr8</a></li>
            
                <li data-name="RGUI.Display.Color.cr9"><a href="RGUI.Display.Color.html#.cr9">cr9</a></li>
            
                <li data-name="RGUI.Display.Color.cr10"><a href="RGUI.Display.Color.html#.cr10">cr10</a></li>
            
                <li data-name="RGUI.Display.Color.cr11"><a href="RGUI.Display.Color.html#.cr11">cr11</a></li>
            
                <li data-name="RGUI.Display.Color.cr12"><a href="RGUI.Display.Color.html#.cr12">cr12</a></li>
            
                <li data-name="RGUI.Display.Color.cr13"><a href="RGUI.Display.Color.html#.cr13">cr13</a></li>
            
                <li data-name="RGUI.Display.Color.cr14"><a href="RGUI.Display.Color.html#.cr14">cr14</a></li>
            
                <li data-name="RGUI.Display.Color.cr15"><a href="RGUI.Display.Color.html#.cr15">cr15</a></li>
            
                <li data-name="RGUI.Display.Color.cr16"><a href="RGUI.Display.Color.html#.cr16">cr16</a></li>
            
                <li data-name="RGUI.Display.Color.cr17"><a href="RGUI.Display.Color.html#.cr17">cr17</a></li>
            
                <li data-name="RGUI.Display.Color.cr18"><a href="RGUI.Display.Color.html#.cr18">cr18</a></li>
            
                <li data-name="RGUI.Display.Color.cr19"><a href="RGUI.Display.Color.html#.cr19">cr19</a></li>
            
                <li data-name="RGUI.Display.Color.cr20"><a href="RGUI.Display.Color.html#.cr20">cr20</a></li>
            
                <li data-name="RGUI.Display.Color.cr21"><a href="RGUI.Display.Color.html#.cr21">cr21</a></li>
            
                <li data-name="RGUI.Display.Color.cr22"><a href="RGUI.Display.Color.html#.cr22">cr22</a></li>
            
                <li data-name="RGUI.Display.Color.cr23"><a href="RGUI.Display.Color.html#.cr23">cr23</a></li>
            
                <li data-name="RGUI.Display.Color.cr24"><a href="RGUI.Display.Color.html#.cr24">cr24</a></li>
            
                <li data-name="RGUI.Display.Color.green"><a href="RGUI.Display.Color.html#.green">green</a></li>
            
                <li data-name="RGUI.Display.Color.grey"><a href="RGUI.Display.Color.html#.grey">grey</a></li>
            
                <li data-name="RGUI.Display.Color.orange"><a href="RGUI.Display.Color.html#.orange">orange</a></li>
            
                <li data-name="RGUI.Display.Color.purple"><a href="RGUI.Display.Color.html#.purple">purple</a></li>
            
                <li data-name="RGUI.Display.Color.red"><a href="RGUI.Display.Color.html#.red">red</a></li>
            
                <li data-name="RGUI.Display.Color.white"><a href="RGUI.Display.Color.html#.white">white</a></li>
            
                <li data-name="RGUI.Display.Color.yellow"><a href="RGUI.Display.Color.html#.yellow">yellow</a></li>
            
                <li data-name="RGUI.Display.Color#alpha"><a href="RGUI.Display.Color.html#alpha">alpha</a></li>
            
                <li data-name="RGUI.Display.Color#blue"><a href="RGUI.Display.Color.html#blue">blue</a></li>
            
                <li data-name="RGUI.Display.Color#green"><a href="RGUI.Display.Color.html#green">green</a></li>
            
                <li data-name="RGUI.Display.Color#red"><a href="RGUI.Display.Color.html#red">red</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Display.Color.fromString"><a href="RGUI.Display.Color.html#.fromString">fromString</a></li>
            
                <li data-name="RGUI.Display.Color#inverse"><a href="RGUI.Display.Color.html#inverse">inverse</a></li>
            
                <li data-name="RGUI.Display.Color#toString"><a href="RGUI.Display.Color.html#toString">toString</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.Display.Sprite">
            <span class="title">
                <a href="RGUI.Display.Sprite.html">RGUI.Display.Sprite</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.Display.Sprite#bitmap"><a href="RGUI.Display.Sprite.html#bitmap">bitmap</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.Display.Sprite.fromBitmap"><a href="RGUI.Display.Sprite.html#.fromBitmap">fromBitmap</a></li>
            
                <li data-name="RGUI.Display.Sprite#setFrame"><a href="RGUI.Display.Sprite.html#setFrame">setFrame</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.EventManager">
            <span class="title">
                <a href="RGUI.EventManager.html">RGUI.EventManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.EventManager.isKeyboardEvent"><a href="RGUI.EventManager.html#.isKeyboardEvent">isKeyboardEvent</a></li>
            
                <li data-name="RGUI.EventManager.isMouseEvent"><a href="RGUI.EventManager.html#.isMouseEvent">isMouseEvent</a></li>
            
                <li data-name="RGUI.EventManager#on"><a href="RGUI.EventManager.html#on">on</a></li>
            
                <li data-name="RGUI.EventManager#onAsync"><a href="RGUI.EventManager.html#onAsync">onAsync</a></li>
            
                <li data-name="RGUI.EventManager#update"><a href="RGUI.EventManager.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.ImageBox">
            <span class="title">
                <a href="RGUI.ImageBox.html">RGUI.ImageBox</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.ImageBox#box"><a href="RGUI.ImageBox.html#box">box</a></li>
            
                <li data-name="RGUI.ImageBox#focus"><a href="RGUI.ImageBox.html#focus">focus</a></li>
            
                <li data-name="RGUI.ImageBox#height"><a href="RGUI.ImageBox.html#height">height</a></li>
            
                <li data-name="RGUI.ImageBox#image"><a href="RGUI.ImageBox.html#image">image</a></li>
            
                <li data-name="RGUI.ImageBox#opacity"><a href="RGUI.ImageBox.html#opacity">opacity</a></li>
            
                <li data-name="RGUI.ImageBox#penetration"><a href="RGUI.ImageBox.html#penetration">penetration</a></li>
            
                <li data-name="RGUI.ImageBox#status"><a href="RGUI.ImageBox.html#status">status</a></li>
            
                <li data-name="RGUI.ImageBox#type"><a href="RGUI.ImageBox.html#type">type</a></li>
            
                <li data-name="RGUI.ImageBox#visible"><a href="RGUI.ImageBox.html#visible">visible</a></li>
            
                <li data-name="RGUI.ImageBox#width"><a href="RGUI.ImageBox.html#width">width</a></li>
            
                <li data-name="RGUI.ImageBox#x"><a href="RGUI.ImageBox.html#x">x</a></li>
            
                <li data-name="RGUI.ImageBox#xWheel"><a href="RGUI.ImageBox.html#xWheel">xWheel</a></li>
            
                <li data-name="RGUI.ImageBox#y"><a href="RGUI.ImageBox.html#y">y</a></li>
            
                <li data-name="RGUI.ImageBox#yWheel"><a href="RGUI.ImageBox.html#yWheel">yWheel</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.ImageBox#changeSize"><a href="RGUI.ImageBox.html#changeSize">changeSize</a></li>
            
                <li data-name="RGUI.ImageBox#close"><a href="RGUI.ImageBox.html#close">close</a></li>
            
                <li data-name="RGUI.ImageBox#create"><a href="RGUI.ImageBox.html#create">create</a></li>
            
                <li data-name="RGUI.ImageBox#disable"><a href="RGUI.ImageBox.html#disable">disable</a></li>
            
                <li data-name="RGUI.ImageBox#enable"><a href="RGUI.ImageBox.html#enable">enable</a></li>
            
                <li data-name="RGUI.ImageBox#getFocus"><a href="RGUI.ImageBox.html#getFocus">getFocus</a></li>
            
                <li data-name="RGUI.ImageBox#hide"><a href="RGUI.ImageBox.html#hide">hide</a></li>
            
                <li data-name="RGUI.ImageBox#lostFocus"><a href="RGUI.ImageBox.html#lostFocus">lostFocus</a></li>
            
                <li data-name="RGUI.ImageBox#move"><a href="RGUI.ImageBox.html#move">move</a></li>
            
                <li data-name="RGUI.ImageBox#moveTo"><a href="RGUI.ImageBox.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.ImageBox#show"><a href="RGUI.ImageBox.html#show">show</a></li>
            
                <li data-name="RGUI.ImageBox#update"><a href="RGUI.ImageBox.html#update">update</a></li>
            
                <li data-name="RGUI.ImageBox#xScroll"><a href="RGUI.ImageBox.html#xScroll">xScroll</a></li>
            
                <li data-name="RGUI.ImageBox#yScroll"><a href="RGUI.ImageBox.html#yScroll">yScroll</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.ProgressBar">
            <span class="title">
                <a href="RGUI.ProgressBar.html">RGUI.ProgressBar</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.ProgressBar#box"><a href="RGUI.ProgressBar.html#box">box</a></li>
            
                <li data-name="RGUI.ProgressBar#focus"><a href="RGUI.ProgressBar.html#focus">focus</a></li>
            
                <li data-name="RGUI.ProgressBar#height"><a href="RGUI.ProgressBar.html#height">height</a></li>
            
                <li data-name="RGUI.ProgressBar#opacity"><a href="RGUI.ProgressBar.html#opacity">opacity</a></li>
            
                <li data-name="RGUI.ProgressBar#penetration"><a href="RGUI.ProgressBar.html#penetration">penetration</a></li>
            
                <li data-name="RGUI.ProgressBar#status"><a href="RGUI.ProgressBar.html#status">status</a></li>
            
                <li data-name="RGUI.ProgressBar#visible"><a href="RGUI.ProgressBar.html#visible">visible</a></li>
            
                <li data-name="RGUI.ProgressBar#width"><a href="RGUI.ProgressBar.html#width">width</a></li>
            
                <li data-name="RGUI.ProgressBar#x"><a href="RGUI.ProgressBar.html#x">x</a></li>
            
                <li data-name="RGUI.ProgressBar#y"><a href="RGUI.ProgressBar.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.ProgressBar#changeSize"><a href="RGUI.ProgressBar.html#changeSize">changeSize</a></li>
            
                <li data-name="RGUI.ProgressBar#close"><a href="RGUI.ProgressBar.html#close">close</a></li>
            
                <li data-name="RGUI.ProgressBar#create"><a href="RGUI.ProgressBar.html#create">create</a></li>
            
                <li data-name="RGUI.ProgressBar#disable"><a href="RGUI.ProgressBar.html#disable">disable</a></li>
            
                <li data-name="RGUI.ProgressBar#enable"><a href="RGUI.ProgressBar.html#enable">enable</a></li>
            
                <li data-name="RGUI.ProgressBar#getFocus"><a href="RGUI.ProgressBar.html#getFocus">getFocus</a></li>
            
                <li data-name="RGUI.ProgressBar#hide"><a href="RGUI.ProgressBar.html#hide">hide</a></li>
            
                <li data-name="RGUI.ProgressBar#lostFocus"><a href="RGUI.ProgressBar.html#lostFocus">lostFocus</a></li>
            
                <li data-name="RGUI.ProgressBar#move"><a href="RGUI.ProgressBar.html#move">move</a></li>
            
                <li data-name="RGUI.ProgressBar#moveTo"><a href="RGUI.ProgressBar.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.ProgressBar#show"><a href="RGUI.ProgressBar.html#show">show</a></li>
            
                <li data-name="RGUI.ProgressBar#update"><a href="RGUI.ProgressBar.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RGUI.SpriteButton">
            <span class="title">
                <a href="RGUI.SpriteButton.html">RGUI.SpriteButton</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RGUI.SpriteButton#box"><a href="RGUI.SpriteButton.html#box">box</a></li>
            
                <li data-name="RGUI.SpriteButton#focus"><a href="RGUI.SpriteButton.html#focus">focus</a></li>
            
                <li data-name="RGUI.SpriteButton#height"><a href="RGUI.SpriteButton.html#height">height</a></li>
            
                <li data-name="RGUI.SpriteButton#opacity"><a href="RGUI.SpriteButton.html#opacity">opacity</a></li>
            
                <li data-name="RGUI.SpriteButton#penetration"><a href="RGUI.SpriteButton.html#penetration">penetration</a></li>
            
                <li data-name="RGUI.SpriteButton#status"><a href="RGUI.SpriteButton.html#status">status</a></li>
            
                <li data-name="RGUI.SpriteButton#visible"><a href="RGUI.SpriteButton.html#visible">visible</a></li>
            
                <li data-name="RGUI.SpriteButton#width"><a href="RGUI.SpriteButton.html#width">width</a></li>
            
                <li data-name="RGUI.SpriteButton#x"><a href="RGUI.SpriteButton.html#x">x</a></li>
            
                <li data-name="RGUI.SpriteButton#y"><a href="RGUI.SpriteButton.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RGUI.SpriteButton#changeSize"><a href="RGUI.SpriteButton.html#changeSize">changeSize</a></li>
            
                <li data-name="RGUI.SpriteButton#close"><a href="RGUI.SpriteButton.html#close">close</a></li>
            
                <li data-name="RGUI.SpriteButton#create"><a href="RGUI.SpriteButton.html#create">create</a></li>
            
                <li data-name="RGUI.SpriteButton#disable"><a href="RGUI.SpriteButton.html#disable">disable</a></li>
            
                <li data-name="RGUI.SpriteButton#enable"><a href="RGUI.SpriteButton.html#enable">enable</a></li>
            
                <li data-name="RGUI.SpriteButton#getFocus"><a href="RGUI.SpriteButton.html#getFocus">getFocus</a></li>
            
                <li data-name="RGUI.SpriteButton#hide"><a href="RGUI.SpriteButton.html#hide">hide</a></li>
            
                <li data-name="RGUI.SpriteButton#lostFocus"><a href="RGUI.SpriteButton.html#lostFocus">lostFocus</a></li>
            
                <li data-name="RGUI.SpriteButton#move"><a href="RGUI.SpriteButton.html#move">move</a></li>
            
                <li data-name="RGUI.SpriteButton#moveTo"><a href="RGUI.SpriteButton.html#moveTo">moveTo</a></li>
            
                <li data-name="RGUI.SpriteButton#show"><a href="RGUI.SpriteButton.html#show">show</a></li>
            
                <li data-name="RGUI.SpriteButton#update"><a href="RGUI.SpriteButton.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="display_bitmap.js.html">Source: display/bitmap.js</h1>
        


    
    <section>
        <article>
            <pre id="source-code" class="prettyprint source linenums"><code>const PIXI = require('../lib/pixi');
const Svent = require('../lib/svent');
const Color = require('./color');

/**
 * 位图类，基本的显示对象。
 *
 * @memberof RGUI.Display
 */
class Bitmap {

  /**
   *
   * @returns {Element&lt;canvas>}
   */
  get canvas(){ return this._canvas }

  /**
   *
   * @returns {CanvasRenderingContext2D|WebGLRenderingContext}
   */
  get ctx() { return this._ctx }

  /**
   *
   * @returns {Image}
   */
  get image() { return this._image }

  /**
   *
   * @returns {String}
   */
  get url() { return this._image ? this._image.src : '' }

  /**
   *
   * @returns {Number}
   */
  get width(){ return this._canvas.width }

  /**
   *
   * @returns {Number}
   */
  get height(){ return this._canvas.height }

  /**
   * 返回一个 bitmap 对象。
   *
   * @param {Number} width
   * @param {Number} height
   */
  constructor(width, height) {
    this._class = Bitmap;
    this._canvas = document.createElement('canvas');
    this._ctx = this._canvas.getContext('2d');
    this._canvas.width = Math.max(width || 0, 1);
    this._canvas.height = Math.max(height || 0, 1);
    this._image = null;
    this._sprite = null;
    this._isLoading = false;
    this._hasError = false;
    this._loadCallback = {};
    this._font = {
      style: 'normal',
      variant: 'normal',
      weight: 'normal',
      name: 'GameFont',
      size: 28,
      textAlign: 'start',
      color: Color.white,
      outlineColor: Color.black,
      toString: function () {
        return (this.style == 'normal' ? '' : this.style + ' ') +
          (this.variant == 'normal' ? '' : this.variant + ' ') +
          (this.weight == 'normal' ? '' : this.variant + ' ') +
          (this.size + 'px ') +
          (this.name == '' ? '' : this.name + ' ')
      }
    }
  }

  /**
   * 加载图片文件，返回一个新的位图对象。
   *
   * @param {String} url - 加载图片的地址。
   * @param {Function} onLoad - 加载成功时的回调函数，非必须。
   * @param {Function} onError - 加载失败时的回调函数，非必须。
   * @returns {RGUI.Display.Bitmap}
   */
  static load (url, onLoad, onError) {
    let bitmap = new Bitmap();
    bitmap._image = new Image();
    bitmap._isLoading = true;
    bitmap._image.src = url;
    bitmap._image.onload = bitmap._onLoad.bind(bitmap);
    bitmap._image.onerror = bitmap._onError.bind(bitmap);
    bitmap._loadCallback = {
      onLoad: onLoad,
      onError: onError
    };
    return bitmap;
  }

  static _cut (source, dx, dy, number, width, height) {
    let bitmaps = [];
    for (let i = 0; i &lt; number; i++) {
      let x = i * dx;
      let y = i * dy;
      let bitmap = new Bitmap(width, height);
      bitmap.blt(source, x, y, width, height, 0, 0);
      bitmaps.push(bitmap);
    }
    return bitmaps;
  }

  /**
   * 按类型切割 bitmap 对象。
   *
   * @param {RGUI.Display.Bitmap} source - 源位图。
   * @param {Number} width - 切割后的每个位图的宽度。
   * @param {Number} height - 切割后的每个位图的高度。
   * @param {Number} type - 切割方式，可选值为 0、1、2、3。分别对应按行切割、安列切、先行后列、先列后行。
   * @returns {Array&lt;RGUI.Display.Bitmap>} - 切割后的位图对象数组。
   */
  static cut (source, width, height, type) {
    let bitmaps = [];
    switch (type) {
      case 0:
        bitmaps = Bitmap.cutRow(source, width, height);
        break;
      case 1:
        bitmaps = Bitmap.cutRank(source, width, height);
        break;
      case 2:
        bitmaps = Bitmap.cutRowRank(source, width, height);
        break;
      case 3:
        bitmaps = Bitmap.cutRankRow(source, width, height);
        break;
      default:
        throw new Error('Type error')
    }
    return bitmaps;
  }

  /**
   * 按配置表切割 bitmap 对象。
   *
   * @param {RGUI.Display.Bitmap} source - 源位图。
   * @param {Array&lt;Object>} config - 记录坐标位置和大小数据的数组。
   * @returns {Array&lt;RGUI.Display.Bitmap>} - 切割后的位图对象数组。
   */
  static cutConf (source, config) {
    let bitmaps = [];
    config.forEach((conf)=>{
      let bitmap = new Bitmap(conf[2], conf[3]);
      bitmap.blt(source, conf[0], conf[1], conf[2], conf[3], 0, 0);
      bitmaps.push(bitmap)
    });
    return bitmaps;
  }

  static cutRow (source, width, height) {
    let number = source.width / width;
    let dx = width;
    let dy = 0;
    return Bitmap._cut(source, dx, dy, number, width, height);
  }

  static cutRank (source, width, height) {
    let number = source.height / height;
    let dx = 0;
    let dy = height;
    return Bitmap._cut(source, dx, dy, number, width, height);
  }

  static cutRowRank (source, width, height) {
    let bitmaps1 = this.cutRow(source, width, source.height);
    let bitmaps2 = [];
    bitmaps1.forEach((bitmap)=>{
      bitmaps2 = bitmaps2.concat(Bitmap.cutRank(bitmap, width, height))
    });
    return bitmaps2;
  }

  static cutRankRow (source, width, height) {
    let bitmaps1 = this.cutRank(source, source.width, height);
    let bitmaps2 = [];
    bitmaps1.forEach((bitmap)=>{
      bitmaps2 = bitmaps2.concat(Bitmap.cutRow(bitmap, width, height))
    });
    return bitmaps2;
  }

  /**
   * 截取当前游戏画面，完成后将调用回调函数 callback 并返回 Bitmap（位图） 对象。
   *
   * @param callback
   */
  static snap (callback) {
    let win = require('electron').remote.getCurrentWindow();
    win.capturePage((image)=>{
      let bitmap = new Bitmap();
      bitmap._image = image;
      bitmap.resize(image.width, image.height);
      bitmap.ctx.drawImage(image, 0, 0);
      callback(bitmap)
    })
  }

  _onLoad () {
    this.resize(this._image.width, this._image.height);
    this._ctx.drawImage(this._image, 0, 0);
    this._isLoading = false;
    if(this._loadCallback.onLoad) this._loadCallback.onLoad();
  }

  _onError () {
    this._hasError = true;
    if(this._loadCallback.onError) this._loadCallback.onError();
    Bitmap.eventManager.trigger('load_error', {url: this.url})
  }

  updateSprite() {
    if(this._sprite) this._sprite.texture.baseTexture.update()
  }

  /**
   * 返回按九宫格放大后的新位图。
   *
   *
   * @param {Number} a
   * @param {Number} b
   * @param {Number} c
   * @param {Number} d
   * @param {Number} width - 新位图宽度。
   * @param {Number} height - 新位图高度。
   * @param {Boolean} scale=false - 放大模式。为真时缩放，为假时平铺。
   */
  scale9bitmap(a, b, c, d, width, height, scale = false) {
    // 关于 a b c d 参数
    // +-----+--------+-----+
    // |     |        |     | c
    // +-----+--------+-----+
    // |     |        |     |
    // |     |        |     |
    // +-----+--------+-----+
    // |     |        |     | d
    // +-----+--------+-----+
    //    a              b
    let w = this.width - a - b;
    let h = this.height - c - d;
    let config = [
      [0, 0, a, c],
      [a, 0, w, c],
      [this.width - b, 0, b, c],
      [0, c, a, h],
      [a, c, w, h],
      [this.width - b, c, b, h],
      [0, this.height - d, a, d],
      [a, this.height - d, w, d],
      [this.width - b, this.height - d, b, d]
    ];
    let bitmaps = Bitmap.cutConf(this, config);
    let w_number = (width - a - b) / w;
    let w_remainder = (width - a - b) % w;
    let h_number = (height - c - d) / h;
    let h_remainder = (height - c - d) % h;
    let bitmap = new Bitmap(width, height);
    if(scale) {
      // 中心
      for (let n = 0; n &lt; w_number; n++) {
        for (let i = 0; i &lt; h_number; i++) {
          bitmap.blt(bitmaps[4], 0, 0, bitmaps[4].width, bitmaps[4].height, a + n * w, c+ i * h);
          if(n == 0) bitmap.blt(bitmaps[4], 0, 0, w_remainder, h, a + w_number * w, c+ i * h)
        }
        bitmap.blt(bitmaps[4], 0, 0, w, h_remainder, a + n * w, c + h_number * h)
      }
      // w
      for (let n = 0; n &lt; w_number; n++) {
        bitmap.blt(bitmaps[1], 0, 0, bitmaps[1].width, bitmap[1].height, a + n * w, 0);
        bitmap.blt(bitmaps[7], 0, 0, bitmaps[7].width, bitmap[7].height, a + n * w, height - d)
      }
      bitmap.blt(bitmaps[1], 0, 0, w_remainder, bitmap[1].height, a + w_number * w, 0);
      bitmap.blt(bitmaps[7], 0, 0, w_remainder, bitmap[7].height, a + w_number * w, height - d);
      // h
      for (let n = 0; n &lt; h_number; n++) {
        bitmap.blt(bitmaps[3], 0, 0, bitmaps[3].width, bitmap[3].height, 0, c + n * h);
        bitmap.blt(bitmaps[5], 0, 0, bitmaps[5].width, bitmap[5].height, width - b, c + n * h)
      }
      bitmap.blt(bitmaps[3], 0, 0, bitmaps[3].width, h_remainder, 0, c + h_number * h);
      bitmap.blt(bitmaps[5], 0, 0, bitmaps[5].width, h_remainder, width - b, c + h_number * h)
    } else {
      bitmap.blt(bitmaps[4], 0, 0, bitmaps[4].width, bitmaps[4].height, a, c, width - a - b, height - c - d);
      bitmap.blt(bitmaps[1], 0, 0, bitmaps[1].width, bitmaps[1].height, a, 0, width - a - b, c);
      bitmap.blt(bitmaps[7], 0, 0, bitmaps[7].width, bitmaps[7].height, a, height - d, width - a - b, d);
      bitmap.blt(bitmaps[3], 0, 0, bitmaps[3].width, bitmaps[3].height, 0, c, a, height - c - d);
      bitmap.blt(bitmaps[5], 0, 0, bitmaps[5].width, bitmaps[5].height, width - b, c, b, height - c - d)
    }
    // 四角
    bitmap.blt(bitmaps[0], 0, 0, bitmaps[0].width, bitmaps[0].height, 0, 0);
    bitmap.blt(bitmaps[2], 0, 0, bitmaps[2].width, bitmaps[2].height, width - b, 0);
    bitmap.blt(bitmaps[6], 0, 0, bitmaps[6].width, bitmaps[6].height, 0, height - d);
    bitmap.blt(bitmaps[8], 0, 0, bitmaps[8].width, bitmaps[8].height, width - b, height - d);
    return bitmap
  }

  /**
   * 重新调整 bitmap 的大小。
   *
   * @param {Number} width=0 - 新的宽度。
   * @param {Number} height=0 - 新的高度。
   */
  resize(width, height) {
    width = Math.max(width || 0, 1);
    height = Math.max(height || 0, 1);
    this._canvas.width = width;
    this._canvas.height = height;
  }

  /**
   * 将源位图给定矩形区域的数据传送到当前位图的给定矩形区域内。
   *
   * @param {RGUI.Display.Bitmap} source - 源位图。
   * @param {Number} sx - 源位图矩形区域左上角的 X 坐标。
   * @param {Number} sy - 源位图矩形区域左上角的 Y 坐标。
   * @param {Number} sw - 源位图矩形区域的宽度。
   * @param {Number} sh - 源位图矩形区域的高度。
   * @param {Number} dx - 目标区域左上角的 X 坐标。
   * @param {Number} dy - 目标区域左上角的 Y 坐标。
   * @param {Number} dw=sw - 目标区域的宽度。
   * @param {Number} dh=sh - 目标区域的高度。
   */
  blt(source, sx, sy, sw, sh, dx, dy, dw, dh) {
    dw = dw || sw;
    dh = dh || sh;
    if (sx >= 0 &amp;&amp; sy >= 0 &amp;&amp; sw > 0 &amp;&amp; sh > 0 &amp;&amp; dw > 0 &amp;&amp; dh > 0 &amp;&amp;
      sx + sw &lt;= source.width &amp;&amp; sy + sh &lt;= source.height) {
      this._ctx.globalCompositeOperation = 'source-over';
      this._ctx.drawImage(source.canvas, sx, sy, sw, sh, dx, dy, dw, dh);
    }
    this.updateSprite()
  }

  /**
   * 获取指定点的颜色。
   *
   * @param {Number} x - 指定点的 X 坐标。
   * @param {Number} y - 指定点的 Y 坐标。
   * @returns {RGUI.Display.Color}
   */
  getPixel(x, y) {
    let data = this._ctx.getImageData(x, y, 1, 1).data;
    return new Color(data[0], data[1], data[2], data[3])
  }

  /**
   * 设置 bitmap 指定位置的像素颜色。
   *
   * @param {Number} x - 指定点的 X 坐标。
   * @param {Number} y - 指定点的 Y 坐标。
   * @param {RGUI.Display.Color} color - 欲设置的颜色。
   */
  setPixel(x, y, color) {
    let data = this._ctx.getImageData(x, y, 1, 1).data;
    data[0] = color.red;
    data[1] = color.green;
    data[2] = color.blue;
    data[3] = color.alpha;
    this.updateSprite()
  }

  /**
   * 清除指定矩形内的内容。
   *
   * @param {Number} x - 矩形区域的 X 坐标。
   * @param {Number} y - 矩形区域的 Y 坐标。
   * @param {Number} width - 矩形区域的宽度。
   * @param {Number} height - 矩形区域的高度。
   */
  clearRect(x, y, width, height) {
    this._ctx.clearRect(x, y, width, height);
    this.updateSprite()
  }

  /**
   * 清空整个位图对象。
   */
  clear() {
    this.clearRect(0, 0, this.width, this.height)
  }

  /**
   * 填充指定矩形区域。
   *
   * @param {Number} x - 矩形区域的 X 坐标。
   * @param {Number} y - 矩形区域的 Y 坐标。
   * @param {Number} width - 矩形区域的宽度。
   * @param {Number} height - 矩形区域的高度。
   * @param {RGUI.Display.Color} fillColor - 填充颜色。
   * @param {RGUI.Display.Color} strokeColor=fillColor - 边框颜色。
   */
  fillRect(x, y, width, height, fillColor, strokeColor = fillColor) {
    let context = this._ctx;
    context.fillStyle = fillColor.toString();
    context.strokeStyle = strokeColor.toString();
    context.save();
    context.fillRect(x, y, width, height);
    context.restore();
    this.updateSprite()
  }

  /**
   * 填充整个位图。
   *
   * @param {RGUI.Display.Color} fillColor - 填充颜色。
   * @param {RGUI.Display.Color} strokeColor=fillColor - 边框颜色。
   */
  fillAll(fillColor, strokeColor = fillColor) {
    this.fillRect(0, 0, this.width, this.height, fillColor, strokeColor)
  }

  /**
   * 以圆角矩形填充指定位置。
   *
   * @param {Number} x - 矩形区域的 X 坐标。
   * @param {Number} y - 矩形区域的 Y 坐标。
   * @param {Number} width - 矩形区域的宽度。
   * @param {Number} height - 矩形区域的高度。
   * @param {Number} radius - 圆角矩形圆角的半径。
   * @param {RGUI.Display.Color} fillColor - 填充颜色。
   * @param {RGUI.Display.Color} strokeColor=fillColor - 边框颜色。
   */
  fillRoundedRect(x, y, width, height, radius, fillColor, strokeColor = fillColor) {
    let context = this._ctx;
    context.fillStyle = fillColor;
    context.strokeStyle = strokeColor;
    context.save();
    context.beginPath();
    if (width> 0) context.moveTo(x + radius, y);
    else  context.moveTo(x - radius, y);
    context.arcTo(x+width, y, x + width, y+height, radius);
    context.arcTo(x+width, y + height,x,y+height, radius);
    context.arcTo(x, y+height, x, y, radius);
    if(width> 0) {
      context.arcTo(x, y, x+radius, y, radius);
    }
    else{
      context.arcTo(x, y, x-radius, y, radius);
    }
    context.stroke();
    context.fill();
    context.restore();
    this.updateSprite()
  }

  /**
   * 以圆角矩形填充整个位图对象。
   *
   * @param {Number} radius - 圆角矩形圆角的半径。
   * @param {RGUI.Display.Color} fillColor - 填充颜色。
   * @param {RGUI.Display.Color} strokeColor=fillColor - 边框颜色。
   */
  fillRoundedAll(radius, fillColor, strokeColor = fillColor) {
    this.fillRoundedRect(0, 0, this.width, this.height, radius, fillColor, strokeColor)
  }

  /**
   * 以圆形填充指定位置。
   *
   * @param {Number} x - 圆心的 X 坐标。
   * @param {Number} y - 圆心的 Y 坐标。
   * @param {Number} radius - 圆的半径。
   * @param {RGUI.Display.Color} fillColor - 填充颜色。
   * @param {RGUI.Display.Color} strokeColor=fillColor - 边框颜色。
   */
  drawCircle (x, y, radius, fillColor, strokeColor = fillColor) {
    let context = this._ctx;
    context.fillStyle = fillColor;
    context.strokeStyle = strokeColor;
    context.save();
    context.beginPath();
    context.arc(x, y, radius, 0, Math.PI * 2, false);
    context.fill();
    context.restore();
    this.updateSprite()
  }

  /**
   * 在指定位置绘制文字。
   *
   * @param {String} text - 要绘制的文本。
   * @param {Number} x - 文字左侧的 X 坐标。
   * @param {Number} y - 文字左侧的 Y 坐标。
   * @param {Number} maxWidth - 文字允许的最大宽度。
   * @param {String} align - 文字的对齐方式。
   */
  drawText (text, x, y, maxWidth, align = this._font.textAlign) {
    if(text != void 0) {
      let context = this._ctx;
      context.save();
      context.font = this._font.toString();
      context.textAlign = align;
      context.textBaseline = 'alphabetic';
      context.fillStyle = this._font.color;
      context.fillText(text, x, y, maxWidth);
      context.restore();
      this.updateSprite()
    }
  }

  /**
   * 测量指定文字的宽度。
   *
   * @param {String} text - 预测量的文字。
   * @returns {Number} - 文字的宽度。
   */
  getTextWidth (text) {
    this._ctx.font = this._font.toString();
    return this._ctx.measureText(text).width
  }

  /**
   * 对位图对象执行高斯模糊，非特殊情况不推荐使用该方法。可以考虑使用 [PIXI.filters.BlurFilter](http://pixijs.download/release/docs/PIXI.filters.BlurFilter.html) 做替代。
   * 具体算法来源见下：
   * StackBlur - a fast almost Gaussian Blur For Canvas
   * Version: 	0.5
   * Author:		Mario Klingemann
   * Contact: 	mario@quasimondo.com
   * Website:	http://www.quasimondo.com/StackBlurForCanvas
   * Twitter:	@quasimondo
   *
   * @param radius
   * @param blurAlphaChannel
   */
  blur (radius = 0, blurAlphaChannel = true) {
    if ( isNaN(radius) || radius &lt; 1 ) return;

    let mul_table = [
      512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,
      454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,
      482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,
      437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,
      497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,
      320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,
      446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,
      329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,
      505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,
      399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,
      324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,
      268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,
      451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,
      385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,
      332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,
      289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];
    let shg_table = [
      9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,
      17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,
      19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,
      20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
      21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
      21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,
      22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,
      22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,
      23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
      23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
      23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
      23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];

    let BlurStack = function () {
      this.r = 0;
      this.g = 0;
      this.b = 0;
      this.a = 0;
      this.next = null;
    };

    let stackBlurCanvasRGBA = function (context, top_x, top_y, width, height, radius) {
      if (isNaN(radius) || radius &lt; 1) return;
      radius |= 0;

      let imageData;

      try {
        try {
          imageData = context.getImageData(top_x, top_y, width, height);
        } catch(e) {

          // NOTE: this part is supposedly only needed if you want to work with local files
          // so it might be okay to remove the whole try/catch block and just use
          // imageData = context.getImageData(top_x, top_y, width, height);
          try {
            netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
            imageData = context.getImageData(top_x, top_y, width, height);
          } catch(e) {
            console.log("Cannot access local image");
            throw new Error("unable to access local image data: " + e);
          }
        }
      } catch(e) {
        console.log("Cannot access image");
        throw new Error("unable to access image data: " + e);
      }

      let pixels = imageData.data;

      let x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum,
        r_out_sum, g_out_sum, b_out_sum, a_out_sum,
        r_in_sum, g_in_sum, b_in_sum, a_in_sum,
        pr, pg, pb, pa, rbs;

      let div = radius + radius + 1;
      let w4 = width &lt;&lt; 2;
      let widthMinus1  = width - 1;
      let heightMinus1 = height - 1;
      let radiusPlus1  = radius + 1;
      let sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;

      let stackStart = new BlurStack();
      let stackEnd;
      let stack = stackStart;
      for (let i = 1; i &lt; div; i++) {
        stack = stack.next = new BlurStack();
        if (i == radiusPlus1) stackEnd = stack;
      }
      stack.next = stackStart;
      let stackIn = null;
      let stackOut = null;

      yw = yi = 0;

      let mul_sum = mul_table[radius];
      let shg_sum = shg_table[radius];

      for (let y = 0; y &lt; height; y++) {
        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;

        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);
        a_out_sum = radiusPlus1 * (pa = pixels[yi+3]);

        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;
        a_sum += sumFactor * pa;

        stack = stackStart;

        for(let i = 0; i &lt; radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack.a = pa;
          stack = stack.next;
        }

        for(let i = 1; i &lt; radiusPlus1; i++) {
          p = yi + ((widthMinus1 &lt; i ? widthMinus1 : i) &lt;&lt; 2);
          r_sum += (stack.r = (pr = pixels[p])) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = (pg = pixels[p+1])) * rbs;
          b_sum += (stack.b = (pb = pixels[p+2])) * rbs;
          a_sum += (stack.a = (pa = pixels[p+3])) * rbs;

          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;
          a_in_sum += pa;

          stack = stack.next;
        }

        stackIn = stackStart;
        stackOut = stackEnd;
        for (let x = 0; x &lt; width; x++) {
          pixels[yi+3] = pa = (a_sum * mul_sum) >> shg_sum;
          if (pa != 0) {
            pa = 255 / pa;
            pixels[yi]   = ((r_sum * mul_sum) >> shg_sum) * pa;
            pixels[yi+1] = ((g_sum * mul_sum) >> shg_sum) * pa;
            pixels[yi+2] = ((b_sum * mul_sum) >> shg_sum) * pa;
          } else {
            pixels[yi] = pixels[yi+1] = pixels[yi+2] = 0;
          }

          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;
          a_sum -= a_out_sum;

          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;
          a_out_sum -= stackIn.a;

          p =  (yw + ((p = x + radius + 1) &lt; widthMinus1 ? p : widthMinus1)) &lt;&lt; 2;

          r_in_sum += (stackIn.r = pixels[p]);
          g_in_sum += (stackIn.g = pixels[p+1]);
          b_in_sum += (stackIn.b = pixels[p+2]);
          a_in_sum += (stackIn.a = pixels[p+3]);

          r_sum += r_in_sum;
          g_sum += g_in_sum;
          b_sum += b_in_sum;
          a_sum += a_in_sum;

          stackIn = stackIn.next;

          r_out_sum += (pr = stackOut.r);
          g_out_sum += (pg = stackOut.g);
          b_out_sum += (pb = stackOut.b);
          a_out_sum += (pa = stackOut.a);

          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;
          a_in_sum -= pa;

          stackOut = stackOut.next;

          yi += 4;
        }
        yw += width;
      }


      for (let x = 0; x &lt; width; x++) {
        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;

        yi = x &lt;&lt; 2;
        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);
        a_out_sum = radiusPlus1 * (pa = pixels[yi+3]);

        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;
        a_sum += sumFactor * pa;

        stack = stackStart;

        for(let i = 0; i &lt; radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack.a = pa;
          stack = stack.next;
        }

        yp = width;

        for(let i = 1; i &lt;= radius; i++) {
          yi = (yp + x) &lt;&lt; 2;

          r_sum += (stack.r = (pr = pixels[yi])) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = (pg = pixels[yi+1])) * rbs;
          b_sum += (stack.b = (pb = pixels[yi+2])) * rbs;
          a_sum += (stack.a = (pa = pixels[yi+3])) * rbs;

          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;
          a_in_sum += pa;

          stack = stack.next;

          if(i &lt; heightMinus1) yp += width;
        }

        yi = x;
        stackIn = stackStart;
        stackOut = stackEnd;
        for (let y = 0; y &lt; height; y++) {
          p = yi &lt;&lt; 2;
          pixels[p+3] = pa = (a_sum * mul_sum) >> shg_sum;
          if (pa > 0) {
            pa = 255 / pa;
            pixels[p]   = ((r_sum * mul_sum) >> shg_sum) * pa;
            pixels[p+1] = ((g_sum * mul_sum) >> shg_sum) * pa;
            pixels[p+2] = ((b_sum * mul_sum) >> shg_sum) * pa;
          } else {
            pixels[p] = pixels[p+1] = pixels[p+2] = 0;
          }

          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;
          a_sum -= a_out_sum;

          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;
          a_out_sum -= stackIn.a;

          p = (x + (((p = y + radiusPlus1) &lt; heightMinus1 ? p : heightMinus1) * width)) &lt;&lt; 2;

          r_sum += (r_in_sum += (stackIn.r = pixels[p]));
          g_sum += (g_in_sum += (stackIn.g = pixels[p+1]));
          b_sum += (b_in_sum += (stackIn.b = pixels[p+2]));
          a_sum += (a_in_sum += (stackIn.a = pixels[p+3]));

          stackIn = stackIn.next;

          r_out_sum += (pr = stackOut.r);
          g_out_sum += (pg = stackOut.g);
          b_out_sum += (pb = stackOut.b);
          a_out_sum += (pa = stackOut.a);

          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;
          a_in_sum -= pa;

          stackOut = stackOut.next;

          yi += width;
        }
      }
      context.putImageData(imageData, top_x, top_y);
    };

    let stackBlurCanvasRGB = function (context, top_x, top_y, width, height, radius) {
      if (isNaN(radius) || radius &lt; 1) return;
      radius |= 0;

      let imageData;

      try {
        try {
          imageData = context.getImageData(top_x, top_y, width, height);
        } catch(e) {

          // NOTE: this part is supposedly only needed if you want to work with local files
          // so it might be okay to remove the whole try/catch block and just use
          // imageData = context.getImageData(top_x, top_y, width, height);
          try {
            netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
            imageData = context.getImageData(top_x, top_y, width, height);
          } catch(e) {
            console.log("Cannot access local image");
            throw new Error("unable to access local image data: " + e);
          }
        }
      } catch(e) {
        console.log("Cannot access image");
        throw new Error("unable to access image data: " + e);
      }

      let pixels = imageData.data;

      let x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum,
        r_out_sum, g_out_sum, b_out_sum,
        r_in_sum, g_in_sum, b_in_sum,
        pr, pg, pb, rbs;

      let div = radius + radius + 1;
      let w4 = width &lt;&lt; 2;
      let widthMinus1  = width - 1;
      let heightMinus1 = height - 1;
      let radiusPlus1  = radius + 1;
      let sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;

      let stackStart = new BlurStack();
      let stackEnd;
      let stack = stackStart;
      for (i = 1; i &lt; div; i++) {
        stack = stack.next = new BlurStack();
        if (i == radiusPlus1) stackEnd = stack;
      }
      stack.next = stackStart;
      let stackIn = null;
      let stackOut = null;

      yw = yi = 0;

      let mul_sum = mul_table[radius];
      let shg_sum = shg_table[radius];

      for (let y = 0; y &lt; height; y++) {
        r_in_sum = g_in_sum = b_in_sum = r_sum = g_sum = b_sum = 0;

        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);

        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;

        stack = stackStart;

        for(let i = 0; i &lt; radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack = stack.next;
        }

        for(let i = 1; i &lt; radiusPlus1; i++) {
          p = yi + ((widthMinus1 &lt; i ? widthMinus1 : i) &lt;&lt; 2);
          r_sum += (stack.r = (pr = pixels[p])) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = (pg = pixels[p+1])) * rbs;
          b_sum += (stack.b = (pb = pixels[p+2])) * rbs;

          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;

          stack = stack.next;
        }


        stackIn = stackStart;
        stackOut = stackEnd;
        for (x = 0; x &lt; width; x++) {
          pixels[yi]   = (r_sum * mul_sum) >> shg_sum;
          pixels[yi+1] = (g_sum * mul_sum) >> shg_sum;
          pixels[yi+2] = (b_sum * mul_sum) >> shg_sum;

          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;

          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;

          p =  (yw + ((p = x + radius + 1) &lt; widthMinus1 ? p : widthMinus1)) &lt;&lt; 2;

          r_in_sum += (stackIn.r = pixels[p]);
          g_in_sum += (stackIn.g = pixels[p+1]);
          b_in_sum += (stackIn.b = pixels[p+2]);

          r_sum += r_in_sum;
          g_sum += g_in_sum;
          b_sum += b_in_sum;

          stackIn = stackIn.next;

          r_out_sum += (pr = stackOut.r);
          g_out_sum += (pg = stackOut.g);
          b_out_sum += (pb = stackOut.b);

          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;

          stackOut = stackOut.next;

          yi += 4;
        }
        yw += width;
      }


      for (x = 0; x &lt; width; x++) {
        g_in_sum = b_in_sum = r_in_sum = g_sum = b_sum = r_sum = 0;

        yi = x &lt;&lt; 2;
        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);

        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;

        stack = stackStart;

        for(let i = 0; i &lt; radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack = stack.next;
        }

        yp = width;

        for(let i = 1; i &lt;= radius; i++) {
          yi = (yp + x) &lt;&lt; 2;

          r_sum += (stack.r = (pr = pixels[yi])) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = (pg = pixels[yi+1])) * rbs;
          b_sum += (stack.b = (pb = pixels[yi+2])) * rbs;

          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;

          stack = stack.next;

          if(i &lt; heightMinus1)
          {
            yp += width;
          }
        }

        yi = x;
        stackIn = stackStart;
        stackOut = stackEnd;
        for (y = 0; y &lt; height; y++) {
          p = yi &lt;&lt; 2;
          pixels[p]   = (r_sum * mul_sum) >> shg_sum;
          pixels[p+1] = (g_sum * mul_sum) >> shg_sum;
          pixels[p+2] = (b_sum * mul_sum) >> shg_sum;

          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;

          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;

          p = (x + (((p = y + radiusPlus1) &lt; heightMinus1 ? p : heightMinus1) * width)) &lt;&lt; 2;

          r_sum += (r_in_sum += (stackIn.r = pixels[p]));
          g_sum += (g_in_sum += (stackIn.g = pixels[p+1]));
          b_sum += (b_in_sum += (stackIn.b = pixels[p+2]));

          stackIn = stackIn.next;

          r_out_sum += (pr = stackOut.r);
          g_out_sum += (pg = stackOut.g);
          b_out_sum += (pb = stackOut.b);

          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;

          stackOut = stackOut.next;

          yi += width;
        }
      }
      context.putImageData(imageData, top_x, top_y);
    };

    let context = this._ctx;

    if (blurAlphaChannel)
      stackBlurCanvasRGBA(context, 0, 0, this.width, this.height, radius);
    else
      stackBlurCanvasRGB(context, 0, 0, this.width, this.height, radius);

    this.updateSprite()
  }

}

Bitmap.eventManager = new Svent.EventManager();

module.exports = Bitmap;</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sat Jan 14 2017 23:52:52 GMT+0800 (CST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/jaguar.js"></script>
</body>
</html>
